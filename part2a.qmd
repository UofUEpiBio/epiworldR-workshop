---
title: "Part 2a: Social Network Analysis"
---

## Network Diffusion

epiworldR also supports diffusion networks to simulate the spread of ideas or rumors throughout a population, for example. The below example demonstrates this capability.

#### Example

Goal: Create a diffusion network model which simulates the spread of a rumor throughout the UKfaculty population of size n = 81.

```{r, include = FALSE}
library(igraph)
library(netplot)
```

```{r}
# Loading the data for the section
load("part2a.rda")

# Visualizing the Network
# library(netplot)
nplot(UKfaculty)
```

The above plot visualizes the UK faculty network of size 81 and its interaction patterns.

```{r}
# Simulate a 2 column numeric matrix and use for data in ModelDiffNet
# Creating the diffusion model
library(epiworldR)
adopt_rumor <- ModelDiffNet(
  "Rumor",
  prevalence = .08,
  prob_adopt = .1,
  data       = UKfaculty_vertex,
  params     = c(1, 4)
)


# Simulating a population from smallworld - Use agents_from_edgelist
agents_from_edgelist(
  adopt_rumor,
  size = 81,
  source = UKfaculty_edgelist[,1] - 1L,
  target = UKfaculty_edgelist[,2] - 1L,
  directed = TRUE
  )

# Running the model for 50 steps
run(adopt_rumor, 50)

# Plotting the model
plot(adopt_rumor)
```

The number of rumor-adopters steadily increases over time as the number of rumor non-adopters decreases, an expected result when considering a social network.
